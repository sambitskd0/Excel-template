<div>
    <div class="pageHeading">
        <div>
            <h3 class="pageName">Update Stock / भंडार अद्यतन करें </h3><span class="indicator">( * ) Indicator
                Mandatory</span>
        </div>
        <div class="tabArea">
            <a routerLink="./../updateOpeningStock" class="neuro addLink" routerLinkActive="active"><i
                    class="bi bi-plus-lg me-2"></i>Update Opening Stock / प्रारंभिक भंडार अद्यतन करें </a>
            <a routerLink="./../updateStock" class="neuro addLink active" routerLinkActive="active"><i
                    class="bi bi-plus-lg me-2"></i>Update Stock / भंडार अद्यतन करें</a>
        </div>
    </div>
    <ng-container *ngIf="!stockAvl;else stkAv">
        <div class="alert alert-info text-center  fw-bold mt-2" role="alert">
            {{ "Kindly Update Opening stock" }}
        </div>
    </ng-container>
    <ng-template #stkAv>
        <ng-container *ngIf="permissionDiv == true">
            <form [formGroup]="updateStockForm" (ngSubmit)="onSubmit()">
                <div class="formpatch top-space">
                    <div class="row">
                        <div class="col-md-2 form-group">
                            <label class="form-label">District <br> ज़िला </label>
                        </div>
                        <div class="col-md-3 form-group"> <span class="colon">:</span>
                            <label for="" class="form-label"> {{districtCode}}-{{districtName}} </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 form-group">
                            <label class="form-label">Block <br> अंचल </label>
                        </div>
                        <div class="col-md-3 form-group"> <span class="colon">:</span>
                            <label for="" class="form-label ">{{blockCode}}-{{blockName}} </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 form-group">
                            <label class="form-label">Cluster <br> समूह </label>
                        </div>
                        <div class="col-md-3 form-group"> <span class="colon">:</span>
                            <label for="" class="form-label "> {{clusterCode}}-{{clusterName}} </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 form-group">
                            <label class="form-label">School <br> विद्यालय </label>
                        </div>
                        <div class="col-md-3 form-group"> <span class="colon">:</span>
                            <label for="" class="form-label ">{{schoolUdise}}-{{schoolName}}</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 form-group">
                            <label class="form-label">Date <br> दिनांक </label>
                        </div>
                        <div class="col-md-3 form-group"> <span class="colon">:</span>
                            <input class="form-control" #datepickerYMD="bsDatepicker" placeholder="DD-MM-YYYY" bsDatepicker
                            bsDatepicker formControlName="updateStockDate" [maxDate]="maxDate"
                            [minDate]="openingStockDate"
                            [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' ,showClearButton: true, clearPosition: 'right' }"
                            autocomplete="off" readonly autofocus>
                            <span class="mandatory">*</span>
                        </div>
                       
                    </div>
                    <div class="row">
                        <div class="col-md-2 form-group">
                            <label class="form-label">Rice Stock <br> चावल का भंडार </label>
                        </div>
                        <div class="col-md-3 form-group"> <span class="colon">:</span>
                            <div class="input-group mb-3"> <span class="input-group-text" id="basic-addon1">K.G</span>
                                <input type="text" class="form-control" aria-describedby="basic-addon1"
                                    formControlName="riceStock" (keypress)="customValidators.alphaNumericValidator(
                                        $event,                                        
                                        'dot',
                                        'hyphen'
                                      )"
                                    autocomplete="off" maxlength="7">
                            </div> <span class="mandatory">*</span>
                            <span class="minimum-text">Opening Rice Stock <span
                                    class="text-danger">{{(this.fetchedStockAvail) ? this.fetchedStockAvail : 0}}</span>(K.G) Available</span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 form-group">
                            <div class=""><label   class="form-label">Other Food item <br> अन्य खाद्य पदार्थ </label>
                            </div>
                        </div>
                        <div class="col-md-3 form-group">
                            <span class="colon">:</span>
                            <div class="input-group mb-3">
                                <span id="basic-addon1" class="input-group-text">₹</span>
                                <input type="text" aria-describedby="basic-addon1" class="form-control"
                                    formControlName="otherFoodItemprice"
                                    (keypress)="customValidators.onlyNumbersWithDecimal($event)" autocomplete="off"
                                    maxlength="7">
                            </div>
                            <!-- <span class="mandatory">*</span> -->
                        </div>
                    </div>
                </div>
                <button tyoe="submit" class="btn btn-success me-2">Submit / जमा करें</button>
                <button type="reset" class="btn btn-danger">Reset / पुनर्स्थापित </button>
            </form>
        </ng-container>
    </ng-template>
    
    <div class="alert alert-info text-center text-uppercase fw-bold mt-2" role="alert" *ngIf="permissionDiv == false">
        {{ "You don't have the permission to access this page !!" }}
    </div>
</div>